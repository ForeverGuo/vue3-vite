import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";import{r as t,o as c,f as p,g as n,w as a,F as g,h as k,c as v,j as N,k as s,t as y,n as L,l as O}from"./vendor.37106b73.js";import{r as x}from"./index.bc1b4f98.js";const R={name:"LayoutNav",data(){return{menuList:[],activeName:"",activeChild:""}},watch:{$route:{handler(e){e.name&&(this.activeChild=e.name,this.$nextTick(()=>{this.findFatherName()}))},deep:!0,immediate:!0}},created(){this.$router.options.routes.forEach(o=>{o.isElementPlus&&(this.menuList=o.children)});let e=this.$router.currentRoute.value.name;this.activeName=e},mounted(){},methods:{findFatherName(){let e=this.$router.currentRoute.value.name;this.menuList.find(o=>{o.children&&o.children.length>0?o.children.find(d=>{d.name===e&&(this.activeName=o.name)}):o.name===e&&(this.activeName=o.name)})},menuClick(e){this.activeName=e.name},handleOpen(e){e&&this.$router.push({name:e})},handleClose(e){e&&this.$router.push({name:e})}}},b={class:"element-nav"};function B(e,o,d,$,i,r){const _=t("el-icon"),u=t("el-menu-item"),m=t("el-sub-menu"),f=t("el-menu");return c(),p("div",b,[n(f,{uniqueOpened:!0,"default-active":"1",class:"el-menu-vertical-demo",onOpen:r.handleOpen,onClose:r.handleClose,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},{default:a(()=>[(c(!0),p(g,null,k(i.menuList,(l,w)=>(c(),v(m,{key:w,index:l.name,class:L(i.activeName===l.name?"active":""),onClick:h=>r.menuClick(l)},{title:a(()=>[n(_,null,{default:a(()=>[(c(),v(N(l.icon)))]),_:2},1024),s("span",null,y(l.desc),1)]),default:a(()=>[(c(!0),p(g,null,k(l.children,(h,H)=>(c(),v(u,{key:H,index:h.name,class:L(i.activeChild===h.name?"active_child":""),onClick:Q=>r.menuClick(l)},{title:a(()=>[n(_,null,{default:a(()=>[(c(),v(N(h.icon)))]),_:2},1024),s("span",null,y(h.desc),1)]),_:2},1032,["index","class","onClick"]))),128))]),_:2},1032,["index","class","onClick"]))),128))]),_:1},8,["onOpen","onClose"])])}var F=C(R,[["render",B]]);const q={name:"LayoutHeader",props:{title:{type:String,require:!0}},methods:{toHome(){x.push({name:"Home"})},handleLogout(){localStorage.removeItem("user"),x.push({path:"/login",query:{redirect:x.currentRoute.value.fullPath}})}}},E={class:"header-nav"},S={class:"left"},D={class:"right"},P={class:"el-dropdown-link"},V=s("span",null,"admin",-1),j=s("span",null,"\u9000\u51FA",-1);function z(e,o,d,$,i,r){const _=t("arrow-down"),u=t("el-icon"),m=t("warning"),f=t("el-dropdown-item"),l=t("el-dropdown-menu"),w=t("el-dropdown");return c(),p("div",E,[s("div",S,y(d.title),1),s("div",D,[n(w,null,{dropdown:a(()=>[n(l,null,{default:a(()=>[n(f,{onClick:O(r.handleLogout,["stop"])},{default:a(()=>[n(u,{class:"el-icon--right"},{default:a(()=>[n(m)]),_:1}),j]),_:1},8,["onClick"])]),_:1})]),default:a(()=>[s("span",P,[V,n(u,{class:"el-icon--right"},{default:a(()=>[n(_)]),_:1})])]),_:1})])])}var I=C(q,[["render",z]]);const M={name:"\u7528\u6237\u7BA1\u7406\u5E73\u53F0",components:{LayoutNav:F,LayoutHeader:I},data(){return{title:"\u7528\u6237\u7BA1\u7406\u5E73\u53F0"}}},T={class:"element-index"},A={class:"flex"},G={class:"left"},J={class:"right"};function K(e,o,d,$,i,r){const _=t("layout-header"),u=t("layout-nav"),m=t("router-view");return c(),p("div",T,[n(_,{title:i.title},null,8,["title"]),s("div",A,[s("div",G,[n(u)]),s("div",J,[n(m)])])])}var Y=C(M,[["render",K]]);export{Y as default};
